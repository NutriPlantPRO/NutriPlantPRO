<!DOCTYPE html>
<html>
<head>
    <title>Test API Key</title>
</head>
<body>
    <h1>Test API Key</h1>
    <button onclick="testAPI()">Probar API Key</button>
    <div id="result"></div>

    <script>
        const apiKey = ''; // Usar variable de entorno o config en servidor; no poner clave aqu√≠
        
        async function testAPI() {
            console.log('üß™ Probando API Key...');
            console.log('üîë API Key:', apiKey ? 'CONFIGURADA' : 'NO CONFIGURADA');
            
            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-3.5-turbo',
                        messages: [
                            {
                                role: 'user',
                                content: 'Hola, ¬øpuedes responder sobre calcio en suelos?'
                            }
                        ],
                        max_tokens: 100
                    })
                });
                
                console.log('üì° Respuesta HTTP:', response.status);
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ Respuesta de ChatGPT:', data);
                    document.getElementById('result').innerHTML = '<p style="color: green;">‚úÖ API Key funciona correctamente</p>';
                } else {
                    console.log('‚ùå Error HTTP:', response.status);
                    document.getElementById('result').innerHTML = '<p style="color: red;">‚ùå Error: ' + response.status + '</p>';
                }
            } catch (error) {
                console.log('‚ùå Error:', error);
                document.getElementById('result').innerHTML = '<p style="color: red;">‚ùå Error: ' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>


